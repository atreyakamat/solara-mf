"use strict";(()=>{var e={};e.id=396,e.ids=[396],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},793:(e,t,o)=>{o.a(e,async(e,n)=>{try{o.r(t),o.d(t,{originalPathname:()=>m,patchFetch:()=>u,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>c});var a=o(49303),r=o(88716),i=o(60670),s=o(21628),l=e([s]);s=(l.then?(await l)():l)[0];let d=new a.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/funds/[id]/route",pathname:"/api/funds/[id]",filename:"route",bundlePath:"app/api/funds/[id]/route"},resolvedPagePath:"/Users/atreyakamat/Projects/solara-mf/src/app/api/funds/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:c,serverHooks:p}=d,m="/api/funds/[id]/route";function u(){return(0,i.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:c})}n()}catch(e){n(e)}})},415:(e,t,o)=>{o.r(t),o.d(t,{conversations:()=>p,funds:()=>N,fundsRelations:()=>g,insertConversationSchema:()=>h,insertFundSchema:()=>A,insertMessageSchema:()=>y,insertPortfolioItemSchema:()=>P,insertPortfolioSchema:()=>x,messages:()=>m,portfolioItems:()=>R,portfolioItemsRelations:()=>L,portfolios:()=>_,portfoliosRelations:()=>v});var n=o(7561),a=o(95961),r=o(72140),i=o(12941),s=o(43050),l=o(28680),u=o(1575),d=o(23861),f=o(11613),c=o(62315);let p=(0,n.af)("conversations",{id:(0,a.eP)("id").primaryKey(),title:(0,r.fL)("title").notNull(),createdAt:(0,u.AB)("created_at").default((0,c.i6)`CURRENT_TIMESTAMP`).notNull()}),m=(0,n.af)("messages",{id:(0,a.eP)("id").primaryKey(),conversationId:(0,i._L)("conversation_id").notNull().references(()=>p.id,{onDelete:"cascade"}),role:(0,r.fL)("role").notNull(),content:(0,r.fL)("content").notNull(),createdAt:(0,u.AB)("created_at").default((0,c.i6)`CURRENT_TIMESTAMP`).notNull()}),h=(0,d.fC)(p).omit({id:!0,createdAt:!0}),y=(0,d.fC)(m).omit({id:!0,createdAt:!0}),N=(0,n.af)("funds",{id:(0,a.eP)("id").primaryKey(),name:(0,r.fL)("name").notNull(),amc:(0,r.fL)("amc").notNull(),category:(0,r.fL)("category").notNull(),subCategory:(0,r.fL)("sub_category").notNull(),riskLevel:(0,r.fL)("risk_level").notNull(),rating:(0,i._L)("rating").notNull(),nav:(0,s.uR)("nav").notNull(),navChange:(0,s.uR)("nav_change").notNull(),minSip:(0,i._L)("min_sip").notNull(),expenseRatio:(0,s.uR)("expense_ratio").notNull(),exitLoad:(0,r.fL)("exit_load").notNull(),aum:(0,s.uR)("aum").notNull(),fundManager:(0,r.fL)("fund_manager").notNull(),return1y:(0,s.uR)("return_1y").notNull(),return3y:(0,s.uR)("return_3y").notNull(),return5y:(0,s.uR)("return_5y").notNull(),alpha:(0,s.uR)("alpha"),beta:(0,s.uR)("beta"),sharpe:(0,s.uR)("sharpe"),sortino:(0,s.uR)("sortino"),stdDev:(0,s.uR)("std_dev"),benchmark:(0,r.fL)("benchmark"),holdings:(0,l.JB)("holdings"),navHistory:(0,l.JB)("nav_history")}),_=(0,n.af)("portfolios",{id:(0,a.eP)("id").primaryKey(),name:(0,r.fL)("name").notNull().default("My Portfolio"),createdAt:(0,u.AB)("created_at").defaultNow()}),R=(0,n.af)("portfolio_items",{id:(0,a.eP)("id").primaryKey(),portfolioId:(0,i._L)("portfolio_id").notNull(),fundId:(0,i._L)("fund_id").notNull(),amount:(0,s.uR)("amount").notNull(),allocation:(0,i._L)("allocation").default(0),mode:(0,r.fL)("mode").notNull()}),g=(0,f.lE)(N,({many:e})=>({portfolioItems:e(R)})),v=(0,f.lE)(_,({many:e})=>({items:e(R)})),L=(0,f.lE)(R,({one:e})=>({portfolio:e(_,{fields:[R.portfolioId],references:[_.id]}),fund:e(N,{fields:[R.fundId],references:[N.id]})})),A=(0,d.fC)(N).omit({id:!0}),x=(0,d.fC)(_).omit({id:!0,createdAt:!0}),P=(0,d.fC)(R).omit({id:!0})},21628:(e,t,o)=>{o.a(e,async(e,n)=>{try{o.r(t),o.d(t,{GET:()=>u});var a=o(87070),r=o(75748),i=o(415),s=o(57745),l=e([r]);async function u(e,{params:t}){try{let{id:e}=await t,o=Number(e),[n]=await r.db.select().from(i.funds).where((0,s.eq)(i.funds.id,o));if(!n)return a.NextResponse.json({message:"Fund not found"},{status:404});return a.NextResponse.json(n)}catch(e){return console.error("Error fetching fund:",e),a.NextResponse.json({message:"Failed to fetch fund"},{status:500})}}r=(l.then?(await l)():l)[0],n()}catch(e){n(e)}})},75748:(e,t,o)=>{o.a(e,async(e,n)=>{try{o.d(t,{db:()=>d});var a=o(88029),r=o(8678),i=o(415),s=e([r,a]);[r,a]=s.then?(await s)():s;let{Pool:l}=r.default,u=new l({connectionString:process.env.DATABASE_URL}),d=(0,a.tS)(u,{schema:i});n()}catch(e){n(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),n=t.X(0,[276,376,972],()=>o(793));module.exports=n})();